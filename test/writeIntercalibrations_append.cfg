process TEST = 
{

    source = EmptyIOVSource 
    {
        string timetype = "runnumber"
	untracked uint32 firstRun = 1
        untracked uint32 lastRun  = 1
        uint32 interval = 1
    }

    es_source = PoolDBESSource 
    { 
	string connect = "sqlite_file:mydata.db"
	untracked string catalog = "file:mycatalog.xml"
	untracked uint32 authenticationMethod = 1
        bool loadAll = true
        string timetype = "runnumber"
	VPSet toGet=
	{
	    {
		string record = "EcalIntercalibConstantsRcd"
		string tag ="EcalIntercalibConstants_prelimininary"
	    }
	}
    }
    
    service = PoolDBOutputService
    {
	string connect = "sqlite_file:mydata.db"
	untracked string catalog = "file:mycatalog.xml"
	untracked uint32 authenticationMethod = 1
	string timetype = "runnumber"    
	VPSet toPut=
	{
	    {
		untracked string containerName = "EcalIntercalibConstants"
		untracked bool appendIOV = true
		string tag ="EcalIntercalibConstants_prelimininary"
	    }
	}
    }
    
    module ecalModule = StoreEcalCondition 
    {
        string logfile = "./logfile.log"
	VPSet toPut=
	{
	    {
		untracked string conditionType = "EcalIntercalibConstants"
		untracked string inputFile = "/afs/cern.ch/cms/ECAL/testbeam/pedestal/2006/CALIBRATIONS/cosmics_cali_sm22.txt"
		untracked uint32 since = 10
	    }
	}
    }

    path p = 
    { 
	ecalModule 
    }
    
}
